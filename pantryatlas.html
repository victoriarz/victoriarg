<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pantry Atlas | Victoria Ruiz Griffith</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Josefin+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- LogRocket Session Tracking -->
    <script src="https://cdn.lr-in-prod.com/LogRocket.min.js" crossorigin="anonymous"></script>
    <script>window.LogRocket && window.LogRocket.init('ljer86/aiprojects');</script>
    <style>
        :root {
            --azul-cobalto: #1a4b8c;
            --azul-profundo: #0d2d5a;
            --azul-brillante: #2e6bc4;
            --terracotta: #c45c3e;
            --terracotta-brillante: #e86f4c;
            --amarillo-sol: #f4b942;
            --amarillo-dorado: #d4941a;
            --verde-hoja: #2d7a4f;
            --verde-esmeralda: #1a5c3a;
            --crema: #faf6ef;
            --crema-calida: #f5ede0;
            --ink: #1a1a1a;
            --ink-light: #4a4a4a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Libre Baskerville', Georgia, serif;
            background: var(--crema);
            color: var(--ink);
            line-height: 1.7;
            position: relative;
            overflow-x: hidden;
        }

        /* Subtle tile pattern background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%231a4b8c' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Fixed Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            border-bottom: 1px solid #e8dfd2;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .header-frame {
            max-width: 1200px;
            margin: 0 auto;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--azul-cobalto);
            text-decoration: none;
            font-family: 'Josefin Sans', sans-serif;
            font-weight: 500;
            font-size: 15px;
            transition: color 0.2s;
        }

        .back-btn:hover {
            color: var(--terracotta);
        }

        .time-display {
            display: inline-block;
            background: var(--crema-calida);
            padding: 6px 14px;
            font-size: 14px;
            font-family: 'Josefin Sans', sans-serif;
            color: var(--ink-light);
            border-radius: 20px;
        }

        /* Main content spacing for fixed header */
        main {
            padding-top: 90px;
        }

        /* Typography */
        h1 {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 42px;
            font-weight: 700;
            color: var(--ink);
            margin: 20px 0;
            letter-spacing: -0.5px;
        }

        h2 {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 28px;
            font-weight: 600;
            color: var(--ink);
            margin-bottom: 20px;
        }

        h3 {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 20px;
            font-weight: 600;
            color: var(--ink);
            margin-bottom: 15px;
        }

        h4 {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 16px;
            font-weight: 600;
            color: var(--ink);
            margin-bottom: 10px;
        }

        /* Section frames */
        .section-frame {
            background: white;
            border: 1px solid #e8dfd2;
            border-radius: 12px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.04);
            animation: fadeInUp 0.6s ease-out;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .section-frame:hover {
            border-color: #d4c4b0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #project-detail-hero .section-frame {
            text-align: center;
            background: linear-gradient(135deg, var(--azul-cobalto) 0%, var(--azul-profundo) 100%);
            border: none;
            color: white;
        }

        #project-detail-hero h1 {
            color: white;
        }

        .project-tagline {
            font-size: 20px;
            color: rgba(255,255,255,0.85);
            margin: 15px 0;
            font-family: 'Josefin Sans', sans-serif;
            font-weight: 300;
        }

        .project-tech {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-top: 25px;
        }

        .tech-tag {
            background: rgba(255,255,255,0.15);
            color: white;
            padding: 8px 18px;
            font-size: 14px;
            font-family: 'Josefin Sans', sans-serif;
            border-radius: 4px;
            border: 1px solid rgba(255,255,255,0.25);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px;
            margin-top: 60px;
            background: var(--crema-calida);
            border-top: 1px solid #e8dfd2;
        }

        footer p {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 14px;
            color: var(--ink-light);
        }

        /* CTA Buttons */
        .cta-buttons {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 30px;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, var(--azul-cobalto), var(--azul-brillante));
            color: white;
            padding: 14px 32px;
            text-decoration: none;
            font-size: 15px;
            font-family: 'Josefin Sans', sans-serif;
            font-weight: 500;
            border-radius: 6px;
            box-shadow: 0 4px 15px rgba(26, 75, 140, 0.3);
            transition: all 0.3s;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(26, 75, 140, 0.4);
        }

        .cta-button-secondary {
            display: inline-block;
            background: transparent;
            color: var(--terracotta);
            padding: 14px 32px;
            text-decoration: none;
            font-size: 15px;
            font-family: 'Josefin Sans', sans-serif;
            font-weight: 500;
            border: 2px solid var(--terracotta);
            border-radius: 6px;
            transition: all 0.3s;
        }

        .cta-button-secondary:hover {
            background: var(--terracotta);
            color: white;
        }

        /* Project CTA Section */
        #project-cta .section-frame {
            background: linear-gradient(135deg, var(--azul-cobalto) 0%, var(--azul-profundo) 100%);
            border: none;
            text-align: center;
        }

        #project-cta h2 {
            color: white;
        }

        #project-cta p {
            color: rgba(255,255,255,0.85);
            font-size: 18px;
        }

        #project-cta .cta-button {
            background: white;
            color: var(--azul-cobalto);
        }

        #project-cta .cta-button:hover {
            background: var(--crema);
        }

        #project-cta .cta-button-secondary {
            border-color: white;
            color: white;
        }

        #project-cta .cta-button-secondary:hover {
            background: rgba(255,255,255,0.15);
        }

        /* Lists */
        .tech-stack-list {
            list-style: none;
            margin-left: 0;
        }

        .tech-stack-list li {
            font-size: 17px;
            color: var(--ink);
            padding: 12px 0;
            padding-left: 30px;
            position: relative;
            border-bottom: 1px solid #f0e8df;
        }

        .tech-stack-list li:last-child {
            border-bottom: none;
        }

        .tech-stack-list li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            background: var(--terracotta);
            border-radius: 50%;
        }

        p {
            font-size: 17px;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        /* Features grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 25px;
        }

        .feature-card {
            background: var(--crema-calida);
            padding: 28px;
            border-radius: 8px;
            border: 1px solid #e8dfd2;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
        }

        .feature-card h3 {
            font-size: 18px;
            margin-bottom: 12px;
            color: var(--azul-cobalto);
        }

        .feature-card p {
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 0;
        }

        /* Chat-specific styles */
        .chat-header-controls {
            margin-bottom: 25px;
            text-align: center;
        }

        .chat-intro {
            margin: 20px 0;
            font-size: 17px;
            line-height: 1.7;
            color: var(--ink-light);
        }

        .ai-controls {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 20px;
            justify-content: center;
            align-items: center;
        }

        .ai-status-badge {
            background: rgba(45, 122, 79, 0.1);
            padding: 8px 16px;
            font-size: 13px;
            border-radius: 20px;
            border: 1px solid var(--verde-hoja);
            font-family: 'Josefin Sans', sans-serif;
            color: var(--verde-hoja);
        }

        .start-over-btn {
            background: white;
            color: var(--ink);
            padding: 8px 18px;
            border: 1px solid #e8dfd2;
            font-size: 13px;
            font-family: 'Josefin Sans', sans-serif;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .start-over-btn:hover {
            border-color: var(--terracotta);
            color: var(--terracotta);
        }

        /* Chat container */
        .chat-container {
            background: var(--crema-calida);
            border: 1px solid #e8dfd2;
            padding: 24px;
            margin: 20px 0;
            border-radius: 12px;
        }

        .chat-messages {
            max-height: 550px;
            min-height: 550px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 24px;
            background: white;
            border: 1px solid #e8dfd2;
            border-radius: 12px;
        }

        /* Custom scrollbar for chat messages */
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: var(--crema);
            border-radius: 4px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: #d4c4b0;
            border-radius: 4px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: var(--ink-light);
        }

        .message {
            margin-bottom: 20px;
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-content {
            display: flex;
            gap: 14px;
            align-items: flex-start;
        }

        .bot-icon {
            font-size: 24px;
            flex-shrink: 0;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--crema-calida);
            border-radius: 50%;
            border: 2px solid var(--verde-hoja);
        }

        .user-icon {
            font-size: 24px;
            flex-shrink: 0;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--terracotta);
            border-radius: 50%;
        }

        .bot-text {
            background: var(--crema-calida);
            padding: 16px 20px;
            border-radius: 16px 16px 16px 4px;
            flex-grow: 1;
            font-size: 16px;
            line-height: 1.6;
            color: var(--ink);
            border: 1px solid #e8dfd2;
        }

        .user-message .message-content {
            justify-content: flex-end;
        }

        .user-text {
            background: var(--terracotta);
            color: white;
            padding: 16px 20px;
            border-radius: 16px 16px 4px 16px;
            max-width: 70%;
            font-size: 16px;
            line-height: 1.6;
        }

        .copy-btn {
            background: transparent;
            border: none;
            padding: 4px 8px;
            cursor: pointer;
            opacity: 0.5;
            transition: opacity 0.2s ease;
            font-size: 14px;
            align-self: flex-start;
            margin-left: 4px;
        }

        .copy-btn:hover {
            opacity: 1;
        }

        .toast-notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--ink);
            color: white;
            padding: 14px 28px;
            border-radius: 8px;
            z-index: 10000;
            opacity: 0;
            transition: all 0.3s ease;
            font-family: 'Josefin Sans', sans-serif;
            font-size: 15px;
        }

        .toast-notification.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .chat-input-container {
            display: flex;
            gap: 12px;
        }

        .chat-input {
            flex-grow: 1;
            padding: 14px 20px;
            font-size: 16px;
            font-family: 'Libre Baskerville', Georgia, serif;
            border: 1px solid #e8dfd2;
            background: white;
            border-radius: 30px;
            transition: all 0.2s;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--azul-cobalto);
            box-shadow: 0 0 0 3px rgba(26, 75, 140, 0.1);
        }

        .chat-input::placeholder {
            color: #999;
            opacity: 0.7;
        }

        .chat-send-button {
            background: linear-gradient(135deg, var(--azul-cobalto), var(--azul-brillante));
            color: white;
            padding: 14px 28px;
            border: none;
            font-size: 15px;
            font-family: 'Josefin Sans', sans-serif;
            font-weight: 500;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(26, 75, 140, 0.3);
            transition: all 0.2s;
        }

        .chat-send-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(26, 75, 140, 0.4);
        }

        .chat-suggestions {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border: 1px solid #e8dfd2;
            border-radius: 12px;
            text-align: center;
        }

        .chat-suggestions > p:first-child {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 13px;
            margin-bottom: 14px;
            color: var(--ink-light);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .suggestion-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .suggestion-btn {
            background: var(--crema-calida);
            color: var(--ink);
            padding: 10px 18px;
            border: 1px solid #e8dfd2;
            font-size: 14px;
            font-family: 'Josefin Sans', sans-serif;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .suggestion-btn:hover {
            background: var(--terracotta);
            color: white;
            border-color: var(--terracotta);
        }

        /* Markdown content styling in bot messages */
        .markdown-content {
            font-family: 'Libre Baskerville', Georgia, serif;
        }

        .markdown-content p {
            margin: 0 0 12px 0;
            font-size: 16px;
            line-height: 1.6;
        }

        .markdown-content p:last-child {
            margin-bottom: 0;
        }

        .markdown-content strong {
            font-weight: 700;
            color: var(--ink);
        }

        .markdown-content ul, .markdown-content ol {
            margin: 12px 0;
            padding-left: 24px;
        }

        .markdown-content li {
            margin: 6px 0;
            font-size: 16px;
            line-height: 1.6;
        }

        .markdown-content code {
            background: rgba(26, 75, 140, 0.08);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            color: var(--azul-cobalto);
        }

        .markdown-content pre {
            background: var(--crema);
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 16px 0;
            border: 1px solid #e8dfd2;
        }

        .markdown-content pre code {
            background: none;
            padding: 0;
            color: var(--ink);
        }

        .markdown-content h1, .markdown-content h2, .markdown-content h3 {
            font-family: 'Playfair Display', Georgia, serif;
            margin: 20px 0 12px 0;
            color: var(--ink);
        }

        .markdown-content h1 { font-size: 22px; }
        .markdown-content h2 { font-size: 20px; }
        .markdown-content h3 { font-size: 18px; }

        .markdown-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
            font-size: 15px;
        }

        .markdown-content th, .markdown-content td {
            border: 1px solid #e8dfd2;
            padding: 10px 14px;
            text-align: left;
        }

        .markdown-content th {
            background: var(--crema-calida);
            font-family: 'Josefin Sans', sans-serif;
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Typing indicator styles */
        .typing-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .typing-text {
            color: var(--ink-light);
            font-size: 0.9rem;
            font-style: italic;
        }

        .typing-dots {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .typing-dots .dot {
            width: 8px;
            height: 8px;
            background-color: var(--verde-hoja);
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .typing-dots .dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots .dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Main Content Layout */
        .main-content-layout {
            margin: 30px 0;
        }

        /* Graph Tooltip */
        .graph-tooltip {
            position: absolute;
            display: none;
            padding: 12px 16px;
            background: var(--ink);
            color: white;
            font-family: 'Libre Baskerville', Georgia, serif;
            font-size: 13px;
            border-radius: 8px;
            pointer-events: none;
            z-index: 1000;
            max-width: 220px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .graph-tooltip.visible {
            display: block;
        }

        .tooltip-category {
            font-size: 10px;
            text-transform: uppercase;
            opacity: 0.8;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            font-family: 'Josefin Sans', sans-serif;
            letter-spacing: 0.5px;
        }

        .tooltip-name {
            font-weight: 700;
            font-size: 14px;
        }

        .tooltip-dietary {
            margin-top: 6px;
            font-size: 11px;
            opacity: 0.9;
        }

        /* Details Panel Below Graph */
        .details-panel {
            background: var(--crema-calida);
            border-top: 1px solid #e8dfd2;
        }

        .details-header {
            padding: 14px 24px;
            background: white;
            border-bottom: 1px solid #e8dfd2;
        }

        .details-header h3 {
            font-size: 14px;
            margin: 0;
            color: var(--ink);
            font-family: 'Josefin Sans', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .details-content {
            padding: 20px 24px;
            min-height: 60px;
            max-height: 350px;
            overflow-y: auto;
        }

        .details-content .placeholder-text {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 15px;
            color: var(--ink-light);
            text-align: center;
            font-style: italic;
        }

        .details-content::-webkit-scrollbar {
            width: 8px;
        }

        .details-content::-webkit-scrollbar-track {
            background: var(--crema);
        }

        .details-content::-webkit-scrollbar-thumb {
            background: #d4c4b0;
        }

        /* Strength Indicator Dots */
        .strength-dots {
            display: inline-flex;
            gap: 2px;
            margin-left: 6px;
            vertical-align: middle;
        }

        .strength-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--crema);
            border: 1px solid #d4c4b0;
        }

        .strength-dots[data-strength="strong"] .strength-dot {
            background: var(--verde-hoja);
            border-color: var(--verde-hoja);
        }

        .strength-dots[data-strength="medium"] .strength-dot:nth-child(-n+2) {
            background: var(--amarillo-sol);
            border-color: var(--amarillo-dorado);
        }

        .strength-dots[data-strength="weak"] .strength-dot:first-child {
            background: var(--terracotta);
            border-color: var(--terracotta);
        }

        /* Color-coded Dietary Badges */
        .dietary-badge {
            display: inline-block;
            padding: 3px 10px;
            font-family: 'Josefin Sans', sans-serif;
            font-size: 12px;
            border-radius: 4px;
            margin-right: 4px;
            margin-bottom: 4px;
        }

        .dietary-badge[data-dietary="vegan"] {
            background: #dcfce7;
            color: #166534;
        }

        .dietary-badge[data-dietary="vegetarian"] {
            background: #e8f0e3;
            color: #3d5a29;
        }

        .dietary-badge[data-dietary="gluten-free"] {
            background: #fef3c7;
            color: #92400e;
        }

        .dietary-badge[data-dietary="dairy-free"] {
            background: #dbeafe;
            color: #1e40af;
        }

        .dietary-badge[data-dietary="nut-free"] {
            background: #ffedd5;
            color: #9a3412;
        }

        .dietary-badge[data-dietary="keto"] {
            background: #fae8ff;
            color: #86198f;
        }

        .dietary-badge[data-dietary="paleo"] {
            background: #fef2f2;
            color: #991b1b;
        }

        .dietary-badge[data-dietary="pescatarian"] {
            background: #e0f2fe;
            color: #0369a1;
        }

        .dietary-badge[data-dietary="low-carb"] {
            background: #f0fdf4;
            color: #15803d;
        }

        .dietary-badge[data-dietary="kosher"],
        .dietary-badge[data-dietary="halal"] {
            background: #f5f5f4;
            color: #44403c;
        }

        /* Details Panel Animations */
        @keyframes detailsFadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .node-info-enhanced {
            animation: detailsFadeIn 0.25s ease-out;
        }

        .node-info-section li {
            animation: detailsFadeIn 0.2s ease-out backwards;
        }

        .node-info-section li:nth-child(1) { animation-delay: 0.05s; }
        .node-info-section li:nth-child(2) { animation-delay: 0.1s; }
        .node-info-section li:nth-child(3) { animation-delay: 0.15s; }
        .node-info-section li:nth-child(4) { animation-delay: 0.2s; }
        .node-info-section li:nth-child(5) { animation-delay: 0.25s; }

        /* Enhanced Graph Panel */
        .graph-panel {
            background: white;
            border: 1px solid #e8dfd2;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.04);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 24px;
            background: var(--crema-calida);
            border-bottom: 1px solid #e8dfd2;
        }

        .panel-header h2 {
            font-size: 14px;
            font-family: 'Josefin Sans', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 0;
        }

        .graph-controls {
            display: flex;
            gap: 8px;
        }

        .control-btn {
            width: 36px;
            height: 36px;
            background: white;
            border: 1px solid #e8dfd2;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: var(--amarillo-sol);
            border-color: var(--amarillo-sol);
            transform: translateY(-2px);
        }

        .control-btn.active {
            background: var(--terracotta);
            border-color: var(--terracotta);
            color: white;
        }

        /* Graph Search Box */
        .graph-search-container {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            max-width: 300px;
            margin: 0 15px;
        }

        .graph-search-input {
            flex: 1;
            padding: 10px 14px;
            font-family: 'Libre Baskerville', Georgia, serif;
            font-size: 14px;
            color: var(--ink);
            background: white;
            border: 1px solid #e8dfd2;
            border-radius: 6px;
            outline: none;
            transition: border-color 0.2s ease;
        }

        .graph-search-input:focus {
            border-color: var(--azul-cobalto);
        }

        .graph-search-input::placeholder {
            color: var(--ink-light);
            opacity: 0.7;
        }

        /* Graph Container */
        .graph-container {
            min-height: 600px;
            background:
                radial-gradient(circle at 50% 50%, rgba(26, 75, 140, 0.05) 0%, transparent 60%),
                linear-gradient(90deg, rgba(26, 75, 140, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(26, 75, 140, 0.03) 1px, transparent 1px),
                white;
            background-size: 100% 100%, 24px 24px, 24px 24px, 100% 100%;
            position: relative;
            cursor: grab;
        }

        .graph-container:active {
            cursor: grabbing;
        }

        .graph-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--crema-calida);
            border-top: 4px solid var(--azul-cobalto);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Edge Tooltip */
        .edge-tooltip {
            position: absolute;
            display: none;
            padding: 10px 14px;
            background: var(--ink);
            color: white;
            font-family: 'Josefin Sans', sans-serif;
            font-size: 14px;
            border-radius: 8px;
            pointer-events: none;
            z-index: 1001;
            max-width: 200px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            text-align: center;
        }

        .edge-tooltip.visible {
            display: block;
        }

        .edge-tooltip .edge-type {
            font-size: 11px;
            text-transform: uppercase;
            opacity: 0.8;
            margin-bottom: 4px;
            letter-spacing: 0.5px;
        }

        .edge-tooltip .edge-detail {
            font-weight: 600;
        }

        /* Enhanced Graph Legend */
        .graph-legend-bar {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 14px 24px;
            background: white;
            border-top: 1px solid #e8dfd2;
            border-bottom: 1px solid #e8dfd2;
            flex-wrap: wrap;
        }

        .legend-item-compact {
            display: flex;
            align-items: center;
            gap: 6px;
            font-family: 'Josefin Sans', sans-serif;
            font-size: 12px;
            font-weight: 500;
            color: var(--ink);
            cursor: pointer;
            padding: 6px 10px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .legend-item-compact:hover {
            background: var(--crema-calida);
            transform: scale(1.05);
        }

        .legend-item-compact.active {
            background: var(--amarillo-sol);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid rgba(0,0,0,0.2);
        }

        .legend-dot.dairy { background: #e8f0e3; }
        .legend-dot.protein { background: #fce7f3; }
        .legend-dot.grain { background: #fef3c7; }
        .legend-dot.vegetable { background: #98fb98; }
        .legend-dot.herb { background: #d4f5d4; }
        .legend-dot.spice { background: #ffe4e1; }
        .legend-dot.oil { background: #fff8dc; }
        .legend-dot.sauce { background: #ffe4e1; }

        /* Enhanced Node Info Styles */
        .node-info-enhanced {
            font-family: 'Libre Baskerville', Georgia, serif;
        }

        .node-info-header-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .node-info-icon {
            font-size: 48px;
        }

        .node-info-title-group {
            flex: 1;
            min-width: 120px;
        }

        .node-info-title {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 20px;
            margin: 0 0 4px 0;
            color: var(--ink);
        }

        .node-info-category {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 14px;
            margin: 0;
            color: var(--ink-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .node-info-meta-inline {
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 14px;
            text-align: right;
            color: var(--ink-light);
        }

        .node-info-meta-inline strong {
            color: var(--ink);
        }

        .node-info-section-inline {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 10px;
            font-size: 15px;
            line-height: 1.5;
        }

        .node-info-section-inline .section-label {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 13px;
            color: var(--ink);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .node-info-section-inline .section-items {
            color: var(--ink-light);
        }

        .node-info-section {
            margin-bottom: 12px;
        }

        .node-info-section h5 {
            font-family: 'Josefin Sans', sans-serif;
            font-size: 13px;
            margin: 0 0 8px 0;
            color: var(--ink);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .node-info-section ul {
            margin: 0;
            padding-left: 5px;
            list-style: none;
        }

        .node-info-section li {
            padding: 6px 0;
            font-size: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .node-info-section li:last-child {
            border-bottom: none;
        }

        .node-info-section .ratio {
            color: var(--terracotta);
            font-weight: 600;
            margin-left: 5px;
        }

        .node-info-section .context {
            color: var(--ink-light);
            font-size: 13px;
            margin-left: 8px;
        }

        .node-info-section .strength {
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 4px;
            margin-left: 5px;
            font-family: 'Josefin Sans', sans-serif;
            text-transform: uppercase;
        }

        .node-info-section .strength.strong {
            background: rgba(45, 122, 79, 0.15);
            color: var(--verde-hoja);
        }

        .node-info-section .strength.medium {
            background: rgba(244, 185, 66, 0.2);
            color: var(--amarillo-dorado);
        }

        .node-info-section .strength.weak {
            background: var(--crema-calida);
            color: var(--ink-light);
        }

        /* Ask Chat Button */
        .node-info-actions {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e8dfd2;
            text-align: center;
        }

        .ask-chat-btn {
            padding: 10px 20px;
            font-family: 'Josefin Sans', sans-serif;
            font-size: 14px;
            background: linear-gradient(135deg, var(--azul-cobalto), var(--azul-brillante));
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .ask-chat-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 75, 140, 0.3);
        }

        /* Responsive - Tablet */
        @media (max-width: 768px) {
            .header-frame {
                padding: 12px 16px;
            }

            h1 {
                font-size: 32px;
            }

            h2 {
                font-size: 24px;
            }

            .section-frame {
                padding: 24px;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .chat-messages {
                max-height: 400px;
                min-height: 350px;
            }

            .suggestion-btn {
                font-size: 13px;
                padding: 8px 14px;
            }

            .graph-container {
                min-height: 400px;
            }

            .panel-header {
                flex-wrap: wrap;
                gap: 10px;
            }

            .graph-search-container {
                order: 3;
                max-width: 100%;
                width: 100%;
                margin: 0;
            }

            .graph-legend-bar {
                gap: 12px;
            }
        }

        /* Responsive - Small Mobile */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            main {
                padding-top: 70px;
            }

            h1 {
                font-size: 26px;
            }

            h2 {
                font-size: 20px;
            }

            h3 {
                font-size: 18px;
            }

            .section-frame {
                padding: 20px;
                margin: 20px 0;
            }

            .project-tagline {
                font-size: 16px;
            }

            .tech-tag {
                font-size: 12px;
                padding: 6px 12px;
            }

            p {
                font-size: 16px;
            }

            .tech-stack-list li {
                font-size: 15px;
            }

            /* Chat-specific mobile styles */
            .chat-container {
                padding: 16px;
            }

            .chat-messages {
                max-height: 350px;
                min-height: 300px;
                padding: 16px;
            }

            .chat-input-container {
                flex-direction: column;
                gap: 10px;
            }

            .chat-input {
                width: 100%;
                font-size: 16px;
            }

            .chat-send-button {
                width: 100%;
                padding: 14px 20px;
            }

            .chat-suggestions {
                padding: 16px;
            }

            .chat-suggestions > p:first-child {
                font-size: 11px;
            }

            .suggestion-btn {
                font-size: 12px;
                padding: 8px 12px;
            }

            .ai-controls {
                flex-direction: column;
                align-items: center;
            }

            .chat-intro {
                font-size: 15px;
            }

            .bot-text,
            .user-text {
                font-size: 14px;
            }

            .user-text {
                max-width: 85%;
            }

            /* Graph mobile */
            .graph-container {
                min-height: 300px;
            }

            .panel-header h2 {
                font-size: 12px;
            }

            .control-btn {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }

            .legend-item-compact {
                padding: 6px 10px;
                font-size: 12px;
            }

            .legend-dot {
                width: 12px;
                height: 12px;
            }

            /* Details panel mobile improvements */
            .details-content {
                padding: 20px;
                max-height: 280px;
            }

            .node-info-icon {
                font-size: 40px;
            }

            .node-info-title {
                font-size: 18px;
            }

            .node-info-section h5 {
                font-size: 12px;
            }

            .node-info-section li {
                font-size: 14px;
            }

            footer {
                padding: 24px;
            }
        }

        /* Sizzle sparkle animation - like food hitting a hot pan */
        .sizzle-sparkle {
            position: fixed;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            animation: sizzle-burst 0.5s ease-out forwards;
        }

        @keyframes sizzle-burst {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(
                    calc(-50% + var(--tx)),
                    calc(-50% + var(--ty))
                ) scale(0);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <header>
        <div class="header-frame">
            <a href="index.html" class="back-btn">‚Üê Back to Portfolio</a>
            <div class="time-display" id="time">Loading...</div>
        </div>
    </header>

    <div class="container">
        <main>
            <section id="project-detail-hero">
                <div class="section-frame">
                    <h1>Pantry Atlas</h1>
                    <p class="project-tagline">Knowledge Graph-Powered Recipe Discovery</p>
                    <div class="project-tech">
                        <span class="tech-tag">Knowledge Graphs</span>
                        <span class="tech-tag">Gemini AI</span>
                        <span class="tech-tag">RAG Architecture</span>
                        <span class="tech-tag">Graph Visualization</span>
                        <span class="tech-tag">Recipe Intelligence</span>
                    </div>
                </div>
            </section>

            <section id="culinary-chat-demo">
                <div class="section-frame">
                    <div class="chat-header-controls">
                        <div>
                            <h2>Ask the Culinary Assistant</h2>
                            <p class="chat-intro">Your AI-powered culinary companion with a built-in knowledge graph of 240+ ingredients. Get complete recipes, find ingredient substitutions with exact ratios, and discover flavor pairings. Just ask - I'll cook up an answer.</p>
                            <div class="ai-controls">
                                <span id="culinaryAIStatusBadge" class="ai-status-badge">AI: Gemini (Active)</span>
                                <button onclick="startOver()" class="start-over-btn" aria-label="Start new conversation">Start Over</button>
                            </div>
                        </div>
                    </div>

                    <div class="chat-container" role="region" aria-label="Culinary knowledge chat assistant">
                        <div class="chat-messages" id="chatMessages" role="log" aria-live="polite" aria-atomic="false">
                            <div class="message bot-message">
                                <div class="message-content">
                                    <span class="bot-icon" aria-hidden="true">ü•ó</span>
                                    <div class="bot-text markdown-content">
                                        Hello! I'm your culinary knowledge assistant. I can help you <strong>search ingredients</strong>, <strong>find substitutions</strong>, <strong>discover flavor pairings</strong>, and <strong>suggest recipe combinations</strong>. Our database includes 236+ ingredients across 13 categories. What would you like to explore?
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="chat-input-container">
                            <label for="chatInput" class="sr-only">Type your culinary question</label>
                            <input
                                type="text"
                                id="chatInput"
                                class="chat-input"
                                placeholder="Ask about ingredients, substitutions, or recipes (e.g., 'What can I substitute for eggs?')"
                                autocomplete="off"
                                aria-label="Type your culinary question"
                                aria-describedby="chatSuggestions"
                            />
                            <button id="sendButton" class="chat-send-button" aria-label="Send message">Send</button>
                        </div>

                        <div class="chat-suggestions" id="chatSuggestions">
                            <p>Try asking:</p>
                            <div class="suggestion-buttons" role="group" aria-label="Quick question suggestions">
                                <button class="suggestion-btn" data-question="Find vegan protein substitutes" aria-label="Ask: Find vegan protein substitutes">Vegan Proteins</button>
                                <button class="suggestion-btn" data-question="Show me Italian ingredients" aria-label="Ask: Show me Italian ingredients">Italian Ingredients</button>
                                <button class="suggestion-btn" data-question="Substitute for eggs" aria-label="Ask: Substitute for eggs">Egg Substitutes</button>
                                <button class="suggestion-btn" data-question="What pairs well with garlic?" aria-label="Ask: What pairs well with garlic?">Garlic Pairings</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="graph-demo">
                <!-- Main Content Layout with Sidebar -->
                <div class="main-content-layout">
                    <!-- Graph Visualization Panel -->
                    <section class="graph-panel">
                        <div class="panel-header">
                            <h2>Knowledge Graph</h2>
                            <div class="graph-search-container">
                                <input type="text" id="graphSearch" class="graph-search-input" placeholder="üîç Search ingredients..." aria-label="Search ingredients">
                            </div>
                            <div class="graph-controls">
                                <button class="control-btn" id="resetGraph" title="Reset View">üîÑ</button>
                                <button class="control-btn" id="zoomIn" title="Zoom In">+</button>
                                <button class="control-btn" id="zoomOut" title="Zoom Out">‚àí</button>
                            </div>
                        </div>
                        <div id="graphContainer" class="graph-container">
                            <div class="graph-loading">
                                <div class="loading-spinner"></div>
                                <p>Loading knowledge graph...</p>
                            </div>
                            <div class="graph-tooltip" id="graphTooltip"></div>
                            <div class="edge-tooltip" id="edgeTooltip"></div>
                        </div>
                        <div class="graph-legend-bar" id="graphLegend">
                            <div class="legend-item-compact" data-category="dairy" title="Click to filter">
                                <span class="legend-dot dairy"></span>
                                <span>Dairy</span>
                            </div>
                            <div class="legend-item-compact" data-category="protein" title="Click to filter">
                                <span class="legend-dot protein"></span>
                                <span>Protein</span>
                            </div>
                            <div class="legend-item-compact" data-category="grain" title="Click to filter">
                                <span class="legend-dot grain"></span>
                                <span>Grains</span>
                            </div>
                            <div class="legend-item-compact" data-category="vegetable" title="Click to filter">
                                <span class="legend-dot vegetable"></span>
                                <span>Vegetables</span>
                            </div>
                            <div class="legend-item-compact" data-category="herb" title="Click to filter">
                                <span class="legend-dot herb"></span>
                                <span>Herbs</span>
                            </div>
                            <div class="legend-item-compact" data-category="spice" title="Click to filter">
                                <span class="legend-dot spice"></span>
                                <span>Spices</span>
                            </div>
                            <div class="legend-item-compact" data-category="oil" title="Click to filter">
                                <span class="legend-dot oil"></span>
                                <span>Oils</span>
                            </div>
                            <div class="legend-item-compact" data-category="sauce" title="Click to filter">
                                <span class="legend-dot sauce"></span>
                                <span>Sauces</span>
                            </div>
                        </div>
                        <!-- Details Panel (below graph) -->
                        <div class="details-panel" id="ingredientDetailsPanel">
                            <div class="details-header">
                                <h3>Ingredient Details</h3>
                            </div>
                            <div class="details-content" id="ingredientDetailsContent">
                                <p class="placeholder-text">Click any ingredient to explore its substitutions, pairings, and dietary info</p>
                            </div>
                        </div>
                    </section>
                </div>

            </section>

            <section id="project-overview">
                <div class="section-frame">
                    <h2>Overview</h2>
                    <p>Pantry Atlas pairs a structured knowledge graph with conversational AI to create a cooking assistant
                        that actually understands food. The graph maps relationships between hundreds of ingredients - what substitutes
                        for what, which flavors pair well, and how dietary restrictions connect to ingredient choices. Explore the
                        interactive visualization with category filtering and hover tooltips, or ask the AI
                        for precise, context-aware answers grounded in the knowledge graph.</p>
                </div>
            </section>

            <section id="project-features">
                <div class="section-frame">
                    <h2>Key Features</h2>
                    <div class="features-grid">
                        <div class="feature-card">
                            <h3>RAG-Enhanced Responses</h3>
                            <p>Queries extract focused context from the knowledge graph before hitting the AI, ensuring responses are grounded in real ingredient data rather than hallucinated.</p>
                        </div>
                        <div class="feature-card">
                            <h3>Complete Recipes</h3>
                            <p>Ask for any recipe and get full ingredients, measurements, and step-by-step instructions - the AI generates complete, cookable recipes on demand.</p>
                        </div>
                        <div class="feature-card">
                            <h3>Smart Search</h3>
                            <p>Search ingredients by name, dietary tag (vegan, gluten-free), cuisine (Italian, Asian), or category (protein, herb) - all filters work in natural language.</p>
                        </div>
                        <div class="feature-card">
                            <h3>Interactive Graph Explorer</h3>
                            <p>Browse all 240+ ingredients with instant search, clickable category legend, hover tooltips on nodes and edges, and keyboard shortcuts. Click any ingredient to ask the AI about it.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="project-tech-stack">
                <div class="section-frame">
                    <h2>Technology Stack</h2>
                    <ul class="tech-stack-list">
                        <li><strong>AI Model:</strong> Gemini 2.5 Flash with RAG (Retrieval-Augmented Generation)</li>
                        <li><strong>Knowledge Graph:</strong> Custom ontology with 240+ ingredients, substitution rules, and flavor pairings</li>
                        <li><strong>Architecture:</strong> Focused context extraction - queries retrieve only relevant graph data</li>
                        <li><strong>Features:</strong> Cuisine exploration, substitution ratios with confidence scores, dietary-aware search</li>
                        <li><strong>Frontend:</strong> Cytoscape.js visualization, instant search, clickable legend filtering, edge tooltips with relationship details, keyboard navigation, vanilla JavaScript</li>
                    </ul>
                </div>
            </section>

            <section id="project-cta">
                <div class="section-frame">
                    <div class="project-cta-content">
                        <h2 style="text-align: center;">No Substitutions for Good Architecture</h2>
                        <p style="text-align: center;">(Well, actually there are 200+ substitutions in this graph alone.) Need someone who obsesses over data relationships? Let's connect.</p>
                        <div class="cta-buttons">
                            <a href="mailto:v-ruiz@outlook.com" class="cta-button">Get In Touch</a>
                            <a href="index.html#projects" class="cta-button-secondary">View All Projects</a>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Victoria Ruiz Griffith. All rights reserved.</p>
        <p style="margin-top: 10px;">Crafted with care and curiosity</p>
    </footer>

    <!-- Cytoscape.js for graph visualization -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>

    <!-- Markdown parser for formatting AI responses -->
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" crossorigin="anonymous"></script>

    <!-- DOMPurify for XSS protection -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.8/dist/purify.min.js" crossorigin="anonymous"></script>

    <!-- Knowledge Graph Data -->
    <script src="pantry-atlas-data.js?v=1.4.0"></script>

    <!-- AI Configuration (RAG-Enhanced) -->
    <script src="pantry-atlas-ai-config.js?v=2.1.0"></script>

    <!-- Graph Engine - Advanced Operations -->
    <script src="pantry-atlas-engine.js?v=1.2.0"></script>

    <!-- Graph Visualization Engine -->
    <script src="pantry-atlas-viz.js?v=2.0.4"></script>

    <!-- Substitution Finder Engine (with AI) -->
    <script src="pantry-atlas-substitution.js?v=1.2.1"></script>

    <!-- Pantry Atlas Chat Assistant (RAG-Enhanced) -->
    <script src="pantry-atlas-chat.js?v=2.4.0"></script>

    <script>
        // Update time display
        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; // Convert 0 to 12
            const hoursStr = String(hours).padStart(2, '0');
            document.getElementById('time').textContent = `${hoursStr}:${minutes} ${ampm}`;
        }

        updateTime();
        setInterval(updateTime, 1000);
    </script>
</body>
</html>
